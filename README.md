# Random Users Web App
## Описание
Веб-приложение на базе FastAPI, которое взаимодействует с внешним API randomuser.me для получения случайных данных о пользователях. Основной интерфейс позволяет загрузить заданное количество пользователей и отображает их в виде таблицы. Пользовательские данные сохраняются в базе данных и могут быть просмотрены по отдельности или случайным образом (по ссылкам из таблицы или по ссылке введенной вручную).

## Функциональность
- Загрузка произвольного количества пользователей с API (/load-users?total_count=N)
- Отображение списка пользователей с пагинацией (/users?skip=0&limit=50)
- Получение общего количества пользователей (/users/count)
- Переход странице конкретного пользователя (/{user_id})
- Переход к странице случайного пользователя (/random)
- Загрузка 1000 пользователей при старте сервера
- Юнит-тесты с моками для внешнего API

## Технологии
- Backend: FastAPI
- Frontend: Jinja2 (HTML шаблоны)
- База данных: PostgreSQL (асинхронный драйвер asyncpg)
- ORM: SQLAlchemy (AsyncIO)
- Тестирование: pytest, pytest-asyncio
- Контейнеризация: Docker, docker-compose

### Обоснование выбора технологий
1. FastAPI, потому что это современный и быстрый фреймворк. Он прост в использовании, поддерживает асинхронностьи хорошо работает с типами данных благодаря Pydantic. 
2. PostgreSQL, так как это надёжная СУБД с поддержкой сложных запросов и транзакций. Она легко интегрируется с FastAPI через SQLAlchemy.
3. SQLAlchemy — гибкий ORM, совместим с PostgreSQL и FastAPI.
4. Jinja2 — простой шаблонизатор для HTML.
5. Docker — позволяет легко разворачивать приложение и управлять зависимостями в любой среде.

## Как запустить без Docker
1. Установите зависимости:
  Можно создать виртуальное окружение для изоляции зависимостей:
- `python -m venv venv`
- `source venv/bin/activate` или для Windows: `venv\Scripts\activate`
  Можно сразу перейти к этому пункту:
- `pip install -r requirements.txt`
2. Запустите сервер:
- `uvicorn app:app --reload`
3. Убедитесь, что PostgreSQL доступен и параметры в DATABASE_URL (внутри app.py) соответствуют вашей среде.

## Структура проекта
- project/
- ├── app.py                 # Основное приложение FastAPI
- ├── test_app.py            # Тесты
- ├── templates/
- │   ├── index.html         # Главная страница с таблицей
- │   └── user_detail.html   # Страница с деталями пользователя
- ├── Dockerfile             # Docker-инструкция
- ├── docker-compose.yml     # Docker Compose конфигурация
- ├── requirements.txt       # Зависимости
- └── README.md              # Текущий файл

## Тестирование
В тестах используется мок внешнего API для обеспечения стабильности и скорости.
- `pytest`

## Автор: Замуруева Александра
Приложение создано в рамках тестового задания на стажировку.
